<div class="inner">
  <form class="form-horizontal">
    <fieldset>
      <legend class="container-fluid">
        <div class="col-xs-7 col-sm-6 col-md-5 col-lg-4 text"><%= i18n.t('device.id') %>: <%= data.id %></div>
        <div class="col-xs-5 col-sm-4 col-md-3 col-lg-2 buttons form-actions">
          <button type="submit" class="btn btn-primary btn-fab">
            <span class="icon material-icon">check</span>
          </button>
          <button type="reset" class="btn btn-link btn-reset">
            <%= i18n.t('common.cancel') %>
          </button>
          <div class="loader">
            <span class="icon material-icon">filter_tilt_shift</span>
          </div>
        </div>
      </legend>
      <div class="form-group">
        <label class="control-label col-xs-5 col-sm-4 col-md-3 col-lg-2"><%= i18n.t('device.name') %></label>
        <div class="col-xs-7 col-sm-6 col-md-5 col-lg-4 form-control-col">
          <input type="text" class="form-control" name="name" value="<%= data.name %>" />
        </div>
        <span class="help-block"></span>
      </div>
      <div class="form-group">
        <label class="control-label col-xs-5 col-sm-4 col-md-3 col-lg-2"><%= i18n.t('device.deviceAlertTracking') %></label>
        <div class="col-xs-7 col-sm-6 col-md-5 col-lg-4 form-control-col">
          <input type="checkbox" name="deviceAlertTracking" <%= data.deviceAlertTracking %> />
        </div>
      </div>
      <div class="form-group">
        <label class="control-label col-xs-5 col-sm-4 col-md-3 col-lg-2"><%= i18n.t('device.openData') %></label>
        <div class="col-xs-7 col-sm-6 col-md-5 col-lg-4 form-control-col">
          <input type="checkbox" name="openData" <%= data.openData %> />
        </div>
      </div>
      <div class="form-group">
        <label class="control-label col-xs-5 col-sm-4 col-md-3 col-lg-2"><%= i18n.t('device.alertType') %></label>
        <div class="col-xs-7 col-sm-6 col-md-5 col-lg-4 form-control-col">
          <% _.forEach(data.alertTypes, function(alertType) { %>
          <label class="radio-inline">
              <input type="radio" name="alertType" value="<%= alertType %>" <% if(data.alertType==alertType){ %>checked<% } %> />
              <%= i18n.t('device.alertTypes.'+alertType) %>
          </label>
          <% }); %>
        </div>
      </div>
      <div class="form-group">
        <label class="control-label col-xs-5 col-sm-4 col-md-3 col-lg-2"><%= i18n.t('device.collectionFrequency') %></label>
        <div class="col-xs-7 col-sm-6 col-md-5 col-lg-4 form-control-col">
            <select class="form-control" name="collectionFrequency">
            <% _.forEach(data.collectionFrequencies, function(collectionFrequency) { %>
                <option value="<%= collectionFrequency %>" <% if(data.collectionFrequency==collectionFrequency){ %>selected<% } %> >
                    <%= i18n.t('device.collectionFrequencies.'+collectionFrequency) %>
                </option>
            <% }); %>
            </select>
        </div>
      </div>
      <div class="form-group">
        <label class="control-label col-xs-5 col-sm-4 col-md-3 col-lg-2"><%= i18n.t('device.lat') %></label>
        <div class="col-xs-7 col-sm-6 col-md-5 col-lg-4 form-control-col">
          <input type="text" class="form-control" name="lat" value="<%= data.lat %>" />
        </div>
        <span class="help-block"></span>
      </div>
      <div class="form-group">
        <label class="control-label col-xs-5 col-sm-4 col-md-3 col-lg-2"><%= i18n.t('device.lng') %></label>
        <div class="col-xs-7 col-sm-6 col-md-5 col-lg-4 form-control-col">
          <input type="text" class="form-control" name="lng" value="<%= data.lng %>" />
        </div>
        <span class="help-block"></span>
      </div>
    </fieldset>
    <% if(!_.isEmpty(data.meta_data)) { %>
    <fieldset>
        <% _.forEach(data.meta_data, function(metaValue, metaName) { %>
        <div class="form-group">
          <label class="control-label col-xs-5 col-sm-4 col-md-3 col-lg-2">
              <%= i18n.t('device.meta_datas.'+metaName, {defaultValue: metaName}) %>
          </label>
          <div class="col-xs-7 col-sm-6 col-md-5 col-lg-4 form-control-col">
            <input type="text" class="form-control" name="meta_data[<%= metaName %>]" value="<%= metaValue %>" />
          </div>
          <span class="help-block"></span>
        </div>
        <% }); %>
    </fieldset>
    <% } %>
    <% data.sensors.forEach(function(sensor) { %>
    <fieldset>
      <legend class="container-fluid"><%= sensor.name %></legend>
      <div class="form-group">
        <label class="control-label col-xs-5 col-sm-4 col-md-3 col-lg-2">
            <%= i18n.t('device.sensors.currentAlertThresholdMin') %>
        </label>
        <div class="col-xs-7 col-sm-6 col-md-5 col-lg-4 form-control-col">
          <input type="text" class="form-control" name="currentAlertThresholdMin[<%= sensor.name %>]" value="<%= sensor.currentAlertThresholdMin %>" />
        </div>
        <span class="help-block"></span>
      </div>
      <div class="form-group">
          <label class="control-label col-xs-5 col-sm-4 col-md-3 col-lg-2">
              <%= i18n.t('device.sensors.currentAlertThresholdMax') %>
          </label>
        <div class="col-xs-7 col-sm-6 col-md-5 col-lg-4 form-control-col">
          <input type="text" class="form-control" name="currentAlertThresholdMax[<%= sensor.name %>]" value="<%= sensor.currentAlertThresholdMax %>" />
        </div>
        <span class="help-block"></span>
      </div>
    </fieldset>
    <% }); %>
  </form>
</div>
